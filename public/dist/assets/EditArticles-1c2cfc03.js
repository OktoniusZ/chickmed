import{W as f,r as s,j as e,a as b,y as j}from"./app-aae13f76.js";import{A as p}from"./AuthenticatedLayout-de710d43.js";import{r as u}from"./index-2647d21c.js";import"./transition-e81c5e7e.js";import"./index-29feaa77.js";function C(t){const{data:r,setData:c,post:k,processing:N,errors:w}=f({title:t.articles.title,content:t.articles.content,image:t.articles.image}),[y,g]=s.useState(t.articles),[o,m]=s.useState();s.useEffect(()=>{g(t)},[t]);const d=l=>{const{name:a,value:i}=l.target;c(n=>({...n,[a]:i}))},h=l=>{const a=l.target.files[0];c(n=>({...n,image:a})),c(n=>({...n,image:a}));const i=new FileReader;i.onloadend=()=>{m(i.result)},a&&i.readAsDataURL(a)};s.useEffect(()=>{m(t.articles.image)},[]),console.log(t.articles.image);const x=l=>{l.preventDefault();const a=new FormData;a.append("title",r.title),a.append("content",r.content),a.append("image",r.image),j.post(route("update.dashboard",{id:t.articles.id}),a)};return e.jsxs(p,{user:t.auth.user,children:[e.jsx(b,{title:"Dashboard"}),e.jsx("h1",{className:"text-center text-black font-bold text-2xl",children:"Edit Artikel"}),e.jsx("form",{onSubmit:x,children:e.jsxs("div",{className:"flex px-12 py-6 w-full flex-col items-start gap-2",children:[e.jsx("h2",{className:"text-gray-500",children:"Masukkan Judul Artikel"}),e.jsx(u.Input,{color:"blue",label:"Judul Artikel",className:"focus:ring-0",id:"title",name:"title",onChange:d,defaultValue:t.articles.title}),e.jsx("h2",{className:"text-gray-500",children:"Masukkan Konten Artikel"}),e.jsx(u.Input,{color:"blue",label:"Konten Artikel",className:"focus:ring-0",id:"content",name:"content",onChange:d,defaultValue:t.articles.content}),e.jsx("h2",{className:"text-gray-500",children:"Masukkan Gambar"}),e.jsx("input",{type:"file",accept:"image/jpg, image/jpeg, image/png",multiple:!0,onChange:h,"data-theme":"light",className:"file-input file-input-bordered file-input-primary w-full"}),o&&e.jsx("div",{className:"mt-2 border-dashed border-2 border-gray-400 p-2",children:e.jsx("img",{src:o,alt:"Thumbnail Preview",className:"h-36 w-64 object-cover mx-auto"})}),e.jsx("button",{className:"btn btn-primary btn-sm text-white w-40 h-10 mt-4 ",children:"Update"})]})})]})}export{C as default};
